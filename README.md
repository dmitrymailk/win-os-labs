# Лабораторная 5 – Потоки и их синхронизация.

Количество баллов за задание пока минимально. Оно может измениться в сторону увеличения, когда точно определится количество лабораторных.

## (9 баллов)

1. Написать программу, многократно (не менее 10 раз) выводящую в консоль две различные фразы од-новременно. То есть необходимо создать два различных потока (CreateThread), которые будут много-кратно выводить в консоль каждый свою фразу. Обеспечить корректное завершение программы, т. е. основной поток должен завершиться после дочерних (тех, которые выводят фразы). Для ожидания окончания работы потоков можно использовать функции WaitForSingleObject или WaitForMultipleOb-jects.

2. Проиллюстрируйте проблему синхронизации потоков. Для этого модифицируйте программу из перво-го пункта так, чтобы потоки выводили свои фразы не целиком, а по одной букве с паузой, например, в 100 ms (Sleep). В результате в консоль фразы будут выводиться вперемешку из-за отсутствия синхро-низации потоков.

3. В программе из пункта 2 синхронизировать потоки при помощи критической секции. Добиться того, чтобы фразы выводились целиком и чередовались между собой, т. е. за фразой потока 1 должна сле-довать фраза потока 2, и наоборот. Функции: InitializeCriticalSection, EnterCriticalSection, LeaveCriticalSection, DeleteCriticalSection.

4. В программе из пункта 2 синхронизировать потоки при помощи мютекса. Добиться того, чтобы фразы выводились целиком и чередовались между собой, т. е. за фразой потока 1 должна следовать фраза потока 2, и наоборот. Функции: CreateMutex, WaitForSingleObject, ReleaseMutex.

Код для всех пунктов можно разместить в одном файле, но нужно будет по отдельности продемонстрировать работу каждого пункта. Обязательна обработка возможных ошибок.
